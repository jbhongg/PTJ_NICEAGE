{"remainingRequest":"C:\\worksapce\\S05P13B202\\backend\\frontend\\node_modules\\thread-loader\\dist\\cjs.js!C:\\worksapce\\S05P13B202\\backend\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\worksapce\\S05P13B202\\backend\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\worksapce\\S05P13B202\\backend\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\worksapce\\S05P13B202\\backend\\frontend\\src\\views\\map\\map.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\worksapce\\S05P13B202\\backend\\frontend\\src\\views\\map\\map.vue","mtime":1629269209833},{"path":"C:\\worksapce\\S05P13B202\\backend\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\worksapce\\S05P13B202\\backend\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\worksapce\\S05P13B202\\backend\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\worksapce\\S05P13B202\\backend\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\worksapce\\S05P13B202\\backend\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCB7IHJlYWN0aXZlLCBvbk1vdW50ZWQgfSBmcm9tICd2dWUnOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgU2VuaW9yQ2VudGVyTW9kYWwgZnJvbSAnLi9jb21wb25lbnRzL3NlbmlvckNlbnRlck1vZGFsJzsKaW1wb3J0IEJhY2tCdXR0b24gZnJvbSAnQC92aWV3cy9jb21wb25lbnRzL0JhY2tCdXR0b24nOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwpheGlvcy5kZWZhdWx0cy5oZWFkZXJzLnBvc3RbJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbiddID0gJ2h0dHA6Ly9pNWIyMDIucC5zc2FmeS5pbyc7CmF4aW9zLmRlZmF1bHRzLmhlYWRlcnMucG9zdFsnQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbic7CnZhciBPUEVOVklEVV9TRVJWRVJfVVJMID0gImh0dHBzOi8vaTViMjAyLnAuc3NhZnkuaW86NDQ0MyI7CnZhciBPUEVOVklEVV9TRVJWRVJfU0VDUkVUID0gInNzYWZ5IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdNYXAnLAogIC8vIGRhdGEoKSB7CiAgLy8gICAgIHJldHVybiB7ICAKICAvLyAgICAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogIC8vICAgICAgICAgU2VuaW9yQ2VudGVySW5mbyA6IFtdLAogIC8vICAgICB9OwogIC8vIH0sCiAgY29tcG9uZW50czogewogICAgU2VuaW9yQ2VudGVyTW9kYWw6IFNlbmlvckNlbnRlck1vZGFsLAogICAgQmFja0J1dHRvbjogQmFja0J1dHRvbgogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIHN0b3JlID0gdXNlU3RvcmUoKTsKICAgIHZhciBzdGF0ZSA9IHJlYWN0aXZlKHsKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIFNlbmlvckNlbnRlckluZm86IFtdLAogICAgICBGcmVxdWVuY2VTZW5pb3JDZW50ZXJJbmZvOiBbXSwKICAgICAgbW9zdFBlb3BsZUNlbnRlckluZm86IFtdLAogICAgICBDbGlja2VkU2VuaW9yQ2VudGVyOiB7fSwKICAgICAgZW50ZXJJbmZvOiB7CiAgICAgICAgc2VuaW9ySWQ6IDAsCiAgICAgICAgdXNlcklkOiAnJwogICAgICB9LAogICAgICBwZXJzb25uZWxMaXN0OiBbXQogICAgfSk7CgogICAgdmFyIGNsaWNrRGlhbG9nVmlzaWJsZSA9IGZ1bmN0aW9uIGNsaWNrRGlhbG9nVmlzaWJsZSgpIHsKICAgICAgc3RhdGUuZGlhbG9nVmlzaWJsZSA9ICFzdGF0ZS5kaWFsb2dWaXNpYmxlOwogICAgfTsKCiAgICB2YXIgaW5pdE1hcCA9IGZ1bmN0aW9uIGluaXRNYXAoKSB7CiAgICAgIGNvbnNvbGUubG9nKCcxMjMnLCBzdGF0ZS5kaWFsb2dWaXNpYmxlKTsKICAgICAgY29uc29sZS5sb2coMSArICIgIiArIHdpbmRvdy5rYWthbyk7CiAgICAgIHZhciBtYXBDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJyksCiAgICAgICAgICAvLyDsp4Drj4Trpbwg7ZGc7Iuc7ZWgIGRpdiAKICAgICAgbWFwT3B0aW9uID0gewogICAgICAgIGNlbnRlcjogbmV3IHdpbmRvdy5rYWthby5tYXBzLkxhdExuZygzMy40NTA3MDEsIDEyNi41NzA2NjcpLAogICAgICAgIGxldmVsOiAzIC8vIOyngOuPhOydmCDtmZXrjIAg66CI67KoCgogICAgICB9OyAvLyDsp4Drj4Trpbwg7IOd7ISx7ZWp64uI64ukICAgIAoKICAgICAgdmFyIG1hcCA9IG5ldyB3aW5kb3cua2FrYW8ubWFwcy5NYXAobWFwQ29udGFpbmVyLCBtYXBPcHRpb24pOyAvLyDri6Trpbgg7J2066+47KeA66GcIOuniOy7pCDsg53shLHtlZjquLAKCiAgICAgIHZhciBpbWFnZVNyYyA9ICJodHRwczovL2tyLnNlYWljb25zLmNvbS93cC1jb250ZW50L3VwbG9hZHMvMjAxNS8wNi9ob3VzZS1pY29uLnBuZyIsCiAgICAgICAgICAvLyDrp4jsu6TsnbTrr7jsp4DsnZgg7KO87IaM7J6F64uI64ukCiAgICAgIGltYWdlU2l6ZSA9IG5ldyB3aW5kb3cua2FrYW8ubWFwcy5TaXplKDY0LCA2OSksCiAgICAgICAgICAvLyDrp4jsu6TsnbTrr7jsp4DsnZgg7YGs6riw7J6F64uI64ukCiAgICAgIGltYWdlT3B0aW9uID0gewogICAgICAgIG9mZnNldDogbmV3IHdpbmRvdy5rYWthby5tYXBzLlBvaW50KDI3LCA2OSkKICAgICAgfTsgLy8g66eI7Luk7J2066+47KeA7J2YIOyYteyFmOyeheuLiOuLpC4g66eI7Luk7J2YIOyijO2RnOyZgCDsnbzsuZjsi5ztgqwg7J2066+47KeAIOyViOyXkOyEnOydmCDsooztkZzrpbwg7ISk7KCV7ZWp64uI64ukLgogICAgICAvLyDrp4jsu6TsnZgg7J2066+47KeA7KCV67O066W8IOqwgOyngOqzoCDsnojripQg66eI7Luk7J2066+47KeA66W8IOyDneyEse2VqeuLiOuLpAoKICAgICAgdmFyIG1hcmtlckltYWdlID0gbmV3IHdpbmRvdy5rYWthby5tYXBzLk1hcmtlckltYWdlKGltYWdlU3JjLCBpbWFnZVNpemUsIGltYWdlT3B0aW9uKTsgLy8gbWFya2VyUG9zaXRpb24gPSBuZXcgd2luZG93Lmtha2FvLm1hcHMuTGF0TG5nKDM3LjU0Njk5LCAxMjcuMDk1OTgpOyAvLyDrp4jsu6TqsIAg7ZGc7Iuc65CgIOychOy5mOyeheuLiOuLpAogICAgICAvLyDso7zshowt7KKM7ZGcIOuzgO2ZmCDqsJ3ssrTrpbwg7IOd7ISx7ZWp64uI64ukCgogICAgICB2YXIgZ2VvY29kZXIgPSBuZXcgd2luZG93Lmtha2FvLm1hcHMuc2VydmljZXMuR2VvY29kZXIoKTsgLy8g67CY67O166y4IOyLnOyekQoKICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoKSB7CiAgICAgICAgLy8gIGNvbnNvbGUubG9nKHN0YXRlLlNlbmlvckNlbnRlckluZm8ubGVuZ3RoKTsKICAgICAgICAvLyBjb25zb2xlLmxvZyhzdGF0ZS5TZW5pb3JDZW50ZXJJbmZvW2ldLnNlbmlvckFkZHJlc3MpOwogICAgICAgIC8vIGNvbnNvbGUubG9nKHN0YXRlLlNlbmlvckNlbnRlckluZm9baV0uc2VuaW9yTmFtZSk7CiAgICAgICAgLy8g7KO87IaM66GcIOyijO2RnOulvCDqsoDsg4ntlanri4jri6QKICAgICAgICB2YXIgYWRkcmVzcyA9IHN0YXRlLlNlbmlvckNlbnRlckluZm9baV0uc2VuaW9yQWRkcmVzczsgLy8gaeuyiOuwqeyXkCDrk6TslrTsnojripQg6rK966Gc64u5IOyjvOyGjAoKICAgICAgICB2YXIgbmFtZSA9IHN0YXRlLlNlbmlvckNlbnRlckluZm9baV0uc2VuaW9yTmFtZTsgLy8gaeuyiOuwqeyXkCDrk6TslrTsnojripQg6rK966Gc64u5IOydtOumhAoKICAgICAgICB2YXIgcm9vbUluZm8gPSBzdGF0ZS5TZW5pb3JDZW50ZXJJbmZvW2ldOwogICAgICAgIGdlb2NvZGVyLmFkZHJlc3NTZWFyY2goYWRkcmVzcywgZnVuY3Rpb24gKHJlc3VsdCwgc3RhdHVzKSB7CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhuYW1lKTsKICAgICAgICAgIC8vIOygleyDgeyggeycvOuhnCDqsoDsg4nsnbQg7JmE66OM65CQ7Jy866m0IAogICAgICAgICAgaWYgKHN0YXR1cyA9PT0gd2luZG93Lmtha2FvLm1hcHMuc2VydmljZXMuU3RhdHVzLk9LKSB7CiAgICAgICAgICAgIHZhciBjb29yZHMgPSBuZXcgd2luZG93Lmtha2FvLm1hcHMuTGF0TG5nKHJlc3VsdFswXS55LCByZXN1bHRbMF0ueCk7IC8vIOqysOqzvOqwkuycvOuhnCDrsJvsnYAg7JyE7LmY66W8IOuniOy7pOuhnCDtkZzsi5ztlanri4jri6QKCiAgICAgICAgICAgIHZhciBtYXJrZXIgPSBuZXcgd2luZG93Lmtha2FvLm1hcHMuTWFya2VyKHsKICAgICAgICAgICAgICBtYXA6IG1hcCwKICAgICAgICAgICAgICBwb3NpdGlvbjogY29vcmRzLAogICAgICAgICAgICAgIC8vIHBvc2l0aW9uOiBtYXJrZXJQb3NpdGlvbiwgCiAgICAgICAgICAgICAgaW1hZ2U6IG1hcmtlckltYWdlLAogICAgICAgICAgICAgIC8vIOuniOy7pOydtOuvuOyngCDshKTsoJUKICAgICAgICAgICAgICBjbGlja2FibGU6IHRydWUKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHdpbmRvdy5teU1hcmtlciA9IG1hcmtlcjsgLy8g66eI7Luk6rCAIOyngOuPhCDsnITsl5Ag7ZGc7Iuc65CY64+E66GdIOyEpOygle2VqeuLiOuLpC4KCiAgICAgICAgICAgIG1hcmtlci5zZXRNYXAobWFwKTsgLy8g66eI7Luk7JeQIOy7pOyEnOqwgCDsmKTrsoTrkJDsnYQg65WMIOuniOy7pCDsnITsl5Ag7ZGc7Iuc7ZWgIOyduO2PrOyciOuPhOyasOulvCDsg53shLHtlanri4jri6QKICAgICAgICAgICAgLy8gdmFyIGl3Q29udGVudCA9IDxkaXYgc3R5bGU9InBhZGRpbmc6NXB4OyI+JHtuYW1lfTwvZGl2PjsgLy8g7J247Y+s7JyI64+E7Jqw7JeQIO2RnOy2nOuQoCDrgrTsmqnsnLzroZwgSFRNTCDrrLjsnpDsl7TsnbTrgpggZG9jdW1lbnQgZWxlbWVudOqwgCDqsIDriqXtlanri4jri6QKICAgICAgICAgICAgLy8g7J247Y+s7JyI64+E7Jqw66W8IOyDneyEsSDtlanri4jri6QKCiAgICAgICAgICAgIHZhciBpbmZvd2luZG93ID0gbmV3IHdpbmRvdy5rYWthby5tYXBzLkluZm9XaW5kb3coewogICAgICAgICAgICAgIGNvbnRlbnQ6ICI8ZGl2IHN0eWxlPVwid2lkdGg6MTUwcHg7dGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZzo2cHggMDtcIj4iLmNvbmNhdChuYW1lLCAiPC9kaXY+IikgLy8g67Cx7YuxKGApCiAgICAgICAgICAgICAgLy8gY29udGVudCA6IGl3Q29udGVudAoKICAgICAgICAgICAgfSk7IC8vIOuniOy7pOyXkCDrp4jsmrDsiqTsmKTrsoQg7J2067Kk7Yq466W8IOuTseuhne2VqeuLiOuLpAoKICAgICAgICAgICAgd2luZG93Lmtha2FvLm1hcHMuZXZlbnQuYWRkTGlzdGVuZXIobWFya2VyLCAnbW91c2VvdmVyJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIC8vIOuniOy7pOyXkCDrp4jsmrDsiqTsmKTrsoQg7J2067Kk7Yq46rCAIOuwnOyDne2VmOuptCDsnbjtj6zsnIjrj4TsmrDrpbwg66eI7Luk7JyE7JeQIO2RnOyLnO2VqeuLiOuLpAogICAgICAgICAgICAgIGluZm93aW5kb3cub3BlbihtYXAsIG1hcmtlcik7CiAgICAgICAgICAgIH0pOyAvLyDrp4jsu6Tsl5Ag66eI7Jqw7Iqk7JWE7JuDIOydtOuypO2KuOulvCDrk7HroZ3tlanri4jri6QKCiAgICAgICAgICAgIHdpbmRvdy5rYWthby5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG1hcmtlciwgJ21vdXNlb3V0JywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIC8vIOuniOy7pOyXkCDrp4jsmrDsiqTslYTsm4Mg7J2067Kk7Yq46rCAIOuwnOyDne2VmOuptCDsnbjtj6zsnIjrj4TsmrDrpbwg7KCc6rGw7ZWp64uI64ukCiAgICAgICAgICAgICAgaW5mb3dpbmRvdy5jbG9zZSgpOwogICAgICAgICAgICB9KTsgLy8g66eI7Luk7JeQIO2BtOumreydtOuypO2KuOulvCDrk7HroZ3tlanri4jri6QKCiAgICAgICAgICAgIHdpbmRvdy5rYWthby5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG1hcmtlciwgJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKG1hcmtlcik7CiAgICAgICAgICAgICAgbWFya2VyLmZhLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgc3RhdGUuQ2xpY2tlZFNlbmlvckNlbnRlciA9IHJvb21JbmZvOwogICAgICAgICAgICAgICAgZ2V0TnVtT2ZQZW9wbGUoKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7IC8vIOyngOuPhOydmCDspJHsi6zsnYQg6rKw6rO86rCS7Jy866GcIOuwm+ydgCDsnITsuZjroZwg7J2064+Z7Iuc7YK164uI64ukCgogICAgICAgICAgICBtYXAuc2V0Q2VudGVyKGNvb3Jkcyk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH07CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXRlLlNlbmlvckNlbnRlckluZm8ubGVuZ3RoOyBpKyspIHsKICAgICAgICBfbG9vcCgpOwogICAgICB9CiAgICB9OwoKICAgIHZhciBnZXROdW1PZlBlb3BsZSA9IGZ1bmN0aW9uIGdldE51bU9mUGVvcGxlKCkgewogICAgICB2YXIgcGVyc29ubmVsTGlzdFRtcCA9IFswLCAwLCAwLCAwLCAwXTsKICAgICAgc3RvcmUuY29tbWl0KCdyb290L2xvYWRpbmdPbicpOwogICAgICBheGlvcy5nZXQoIiIuY29uY2F0KE9QRU5WSURVX1NFUlZFUl9VUkwsICIvb3BlbnZpZHUvYXBpL3Nlc3Npb25zIiksIHsKICAgICAgICBhdXRoOiB7CiAgICAgICAgICB1c2VybmFtZTogJ09QRU5WSURVQVBQJywKICAgICAgICAgIHBhc3N3b3JkOiBPUEVOVklEVV9TRVJWRVJfU0VDUkVUCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBzdG9yZS5jb21taXQoJ3Jvb3QvbG9hZGluZ09mZicpOwogICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICB2YXIgc2Vzc2lvbnMgPSByZXMuZGF0YS5jb250ZW50OwogICAgICAgIHZhciBzZXNzaW9uSWQgPSBTdHJpbmcoc3RhdGUuQ2xpY2tlZFNlbmlvckNlbnRlci5zZW5pb3JJZCk7CiAgICAgICAgc2Vzc2lvbnMuZm9yRWFjaChmdW5jdGlvbiAoc2Vzc2lvbikgewogICAgICAgICAgdmFyIHNwbGl0X3N0ciA9IHNlc3Npb24uaWQuc3BsaXQoJy0nKTsKCiAgICAgICAgICBpZiAoc2Vzc2lvbklkID09IHNwbGl0X3N0clswXSkgewogICAgICAgICAgICB2YXIgaW5kZXggPSBwYXJzZUludChzcGxpdF9zdHJbMV0pOwogICAgICAgICAgICBwZXJzb25uZWxMaXN0VG1wW2luZGV4XSA9IHNlc3Npb24uY29ubmVjdGlvbnMubnVtYmVyT2ZFbGVtZW50czsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBzdGF0ZS5wZXJzb25uZWxMaXN0ID0gcGVyc29ubmVsTGlzdFRtcDsKICAgICAgICBjb25zb2xlLmxvZyhzdGF0ZS5wZXJzb25uZWxMaXN0KTsKICAgICAgICBzdGF0ZS5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIHN0b3JlLmNvbW1pdCgncm9vdC9sb2FkaW5nT2ZmJyk7CiAgICAgICAgYWxlcnQoZXJyKTsKICAgICAgfSk7CiAgICB9OwoKICAgIG9uTW91bnRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB1c2VySWQgPSBzdG9yZS5nZXR0ZXJzWydyb290L2dldE15SWQnXTsKICAgICAgc3RvcmUuZGlzcGF0Y2goJ3Jvb3QvcmVxdWVzdFNlbmlvckNlbnRlckluZm8nLCB7CiAgICAgICAgdXNlcklkOiB1c2VySWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzdWx0KTsKICAgICAgICBzdGF0ZS5TZW5pb3JDZW50ZXJJbmZvID0gcmVzdWx0LmRhdGEuZGF0YTsKICAgICAgICBjb25zb2xlLmxvZyhzdGF0ZS5TZW5pb3JDZW50ZXJJbmZvKTsKCiAgICAgICAgaWYgKHdpbmRvdy5rYWthbyAmJiB3aW5kb3cua2FrYW8ubWFwcykgewogICAgICAgICAgY29uc29sZS5sb2cod2luZG93Lmtha2FvKTsKICAgICAgICAgIGluaXRNYXAoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOwoKICAgICAgICAgIHNjcmlwdC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiB3aW5kb3cua2FrYW8ubWFwcy5sb2FkKGluaXRNYXApOwogICAgICAgICAgfTsKCiAgICAgICAgICBzY3JpcHQuc3JjID0gJ2h0dHA6Ly9kYXBpLmtha2FvLmNvbS92Mi9tYXBzL3Nkay5qcz9hdXRvbG9hZD1mYWxzZSZhcHBrZXk9N2M4NzE1OWUzNzc1NzVkZWQ2MDk4MTBmZTdkMTFkMGEmbGlicmFyaWVzPXNlcnZpY2VzJzsKICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBhbGVydCgn7KeA64+E66W8IOu2iOufrOyYpOyngCDrqrvtlojsirXri4jri6QuJyk7CiAgICAgIH0pOwogICAgICBzdG9yZS5kaXNwYXRjaCgncm9vdC9yZXF1ZXN0RnJlcXVlbmNlU2VuaW9yQ2VudGVySW5mbycsIHsKICAgICAgICB1c2VySWQ6IHVzZXJJZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXN1bHQpOwogICAgICAgIHN0YXRlLkZyZXF1ZW5jZVNlbmlvckNlbnRlckluZm8gPSByZXN1bHQuZGF0YS5kYXRhOwogICAgICAgIGNvbnNvbGUubG9nKCJmc2NpIiArICIgIiArIHN0YXRlLkZyZXF1ZW5jZVNlbmlvckNlbnRlckluZm8pOwogICAgICB9KTsKICAgIH0pOwoKICAgIHZhciBvbkNsb3NlQ2VudGVyRGlhbG9nID0gZnVuY3Rpb24gb25DbG9zZUNlbnRlckRpYWxvZygpIHsKICAgICAgc3RhdGUuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgfTsKCiAgICB2YXIgbG9hZE1vZGFsID0gZnVuY3Rpb24gbG9hZE1vZGFsKGNlbnRlck9iamVjdCkgewogICAgICBzdGF0ZS5DbGlja2VkU2VuaW9yQ2VudGVyID0gY2VudGVyT2JqZWN0OwogICAgICBnZXROdW1PZlBlb3BsZSgpOwogICAgfTsKCiAgICB2YXIgY2xpY2tNb3N0UGVvcGxlID0gZnVuY3Rpb24gY2xpY2tNb3N0UGVvcGxlKCkgewogICAgICB2YXIgc2Vzc2lvblBlb3BsZU9iamVjdCA9IHt9OwogICAgICBzdG9yZS5jb21taXQoJ3Jvb3QvbG9hZGluZ09uJyk7CiAgICAgIGF4aW9zLmdldCgiIi5jb25jYXQoT1BFTlZJRFVfU0VSVkVSX1VSTCwgIi9vcGVudmlkdS9hcGkvc2Vzc2lvbnMiKSwgewogICAgICAgIGF1dGg6IHsKICAgICAgICAgIHVzZXJuYW1lOiAnT1BFTlZJRFVBUFAnLAogICAgICAgICAgcGFzc3dvcmQ6IE9QRU5WSURVX1NFUlZFUl9TRUNSRVQKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHN0b3JlLmNvbW1pdCgncm9vdC9sb2FkaW5nT2ZmJyk7CiAgICAgICAgdmFyIHNlc3Npb25zID0gcmVzLmRhdGEuY29udGVudDsKICAgICAgICBzZXNzaW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChzZXNzaW9uKSB7CiAgICAgICAgICB2YXIgc2Vzc2lvbklkID0gc2Vzc2lvbi5pZC5zcGxpdCgnLScpWzBdOwoKICAgICAgICAgIGlmICghc2Vzc2lvblBlb3BsZU9iamVjdFtzZXNzaW9uSWRdKSB7CiAgICAgICAgICAgIHNlc3Npb25QZW9wbGVPYmplY3Rbc2Vzc2lvbklkXSA9IDA7CiAgICAgICAgICB9CgogICAgICAgICAgc2Vzc2lvblBlb3BsZU9iamVjdFtzZXNzaW9uSWRdICs9IHNlc3Npb24uY29ubmVjdGlvbnMubnVtYmVyT2ZFbGVtZW50czsKICAgICAgICB9KTsKICAgICAgICB2YXIgc29ydGVkTGlzdCA9IFtdOwoKICAgICAgICBmb3IgKHZhciBpZCBpbiBzZXNzaW9uUGVvcGxlT2JqZWN0KSB7CiAgICAgICAgICBzb3J0ZWRMaXN0LnB1c2goW2lkLCBzZXNzaW9uUGVvcGxlT2JqZWN0W2lkXV0pOwogICAgICAgIH0KCiAgICAgICAgc29ydGVkTGlzdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICByZXR1cm4gYVsxXSAtIGJbMV07CiAgICAgICAgfSk7CiAgICAgICAgdmFyIG1vc3RQZW9wbGVDZW50ZXJUbXAgPSBbXTsKICAgICAgICBzb3J0ZWRMaXN0LmZvckVhY2goZnVuY3Rpb24gKGNlbnRlcklkKSB7CiAgICAgICAgICB2YXIgaWQgPSBwYXJzZUludChjZW50ZXJJZFswXSk7CgogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGF0ZS5TZW5pb3JDZW50ZXJJbmZvLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChzdGF0ZS5TZW5pb3JDZW50ZXJJbmZvW2ldWydzZW5pb3JJZCddID09IGlkKSB7CiAgICAgICAgICAgICAgbW9zdFBlb3BsZUNlbnRlclRtcC5wdXNoKHN0YXRlLlNlbmlvckNlbnRlckluZm9baV0pOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgc3RhdGUubW9zdFBlb3BsZUNlbnRlckluZm8gPSBtb3N0UGVvcGxlQ2VudGVyVG1wOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgc3RvcmUuY29tbWl0KCdyb290L2xvYWRpbmdPZmYnKTsKICAgICAgICBhbGVydChlcnIpOwogICAgICB9KTsKICAgIH07CgogICAgdmFyIGhhbmRsZVRhYkNsaWNrID0gZnVuY3Rpb24gaGFuZGxlVGFiQ2xpY2sodGFiKSB7CiAgICAgIGlmICh0YWIucHJvcHMubGFiZWwgPT0gJ+yduOybkOyImCDrp47snYAg7IicJykgewogICAgICAgIGNsaWNrTW9zdFBlb3BsZSgpOwogICAgICB9CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIHN0YXRlOiBzdGF0ZSwKICAgICAgY2xpY2tEaWFsb2dWaXNpYmxlOiBjbGlja0RpYWxvZ1Zpc2libGUsCiAgICAgIGluaXRNYXA6IGluaXRNYXAsCiAgICAgIG9uQ2xvc2VDZW50ZXJEaWFsb2c6IG9uQ2xvc2VDZW50ZXJEaWFsb2csCiAgICAgIGxvYWRNb2RhbDogbG9hZE1vZGFsLAogICAgICBjbGlja01vc3RQZW9wbGU6IGNsaWNrTW9zdFBlb3BsZSwKICAgICAgaGFuZGxlVGFiQ2xpY2s6IGhhbmRsZVRhYkNsaWNrCiAgICB9OwogIH0KfTs="},{"version":3,"sources":["C:\\worksapce\\S05P13B202\\backend\\frontend\\src\\views\\map\\map.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <el-row class=\"map-container\">\r\n        <el-col :span=\"7\">\r\n            \r\n                <el-tabs type=\"border-card\" @tab-click=\"handleTabClick\">\r\n                <el-tab-pane label=\"전체 보기\">\r\n                    <el-scrollbar height=\"650px\">\r\n                <!-- <div v-if=\"!state.dialogVisible\">{{ state.dialogVisible }}</div> -->\r\n                <!-- <div v-if=\"!state.dialogVisible\">{{ state.SeniorCenterInfo[0].seniorId }}</div> --> \r\n                    <table>\r\n                        <thead></thead>\r\n                        <tbody>\r\n                    <tr v-bind:key=\"s\" v-for=\"s in state.SeniorCenterInfo\" @click=\"loadModal(s)\">\r\n                    <td>\r\n                        <img src=\"https://kr.seaicons.com/wp-content/uploads/2015/06/house-icon.png\" alt=\"My Image\" width=\"100\">\r\n                    </td>\r\n                    <td>\r\n                            이름 : {{ s.seniorName }}<br>\r\n                            주소 : {{ s.seniorAddress }}<br>\r\n                    </td>\r\n                    </tr>\r\n                        </tbody>\r\n                    </table>\r\n            </el-scrollbar>\r\n                </el-tab-pane>\r\n\r\n                <el-tab-pane label=\"자주 가는 순\">\r\n                    <el-scrollbar height=\"650px\">\r\n                    <table>\r\n                        <thead></thead>\r\n                        <tbody>\r\n                    <tr v-bind:key=\"s\" v-for=\"s in state.FrequenceSeniorCenterInfo\" @click=\"loadModal(s)\">\r\n                    <td>\r\n                        <img src=\"https://kr.seaicons.com/wp-content/uploads/2015/06/house-icon.png\" alt=\"My Image\" width=\"100\">\r\n                    </td>\r\n                    <td>\r\n                            이름 : {{ s.seniorName }}<br>\r\n                            주소 : {{ s.seniorAddress }}<br>\r\n                    </td>\r\n                    </tr>\r\n                        </tbody>\r\n                    </table>\r\n            </el-scrollbar>\r\n                </el-tab-pane>\r\n                <el-tab-pane label=\"인원수 많은 순\">\r\n                    <el-scrollbar height=\"650px\">\r\n                        <table>\r\n                        <tbody>\r\n                            <tr v-bind:key=\"s\" v-for=\"s in state.mostPeopleCenterInfo\" @click=\"loadModal(s)\">\r\n                                <td>\r\n                                    <img src=\"https://kr.seaicons.com/wp-content/uploads/2015/06/house-icon.png\" alt=\"My Image\" width=\"100\">\r\n                                </td>\r\n                                <td>\r\n                                    이름 : {{ s.seniorName }}<br>\r\n                                    주소 : {{ s.seniorAddress }}<br>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                        </table>\r\n                    </el-scrollbar>\r\n                </el-tab-pane>\r\n            </el-tabs>\r\n\r\n\r\n        </el-col>\r\n        <BackButton/>\r\n        <el-col :span=\"17\">\r\n            <div id=\"map\" style=\"z-index:0\"></div>\r\n        </el-col>\r\n    </el-row>\r\n\r\n    <!--모달창 -->\r\n    <SeniorCenterModal\r\n    :centerInfo=\"state.ClickedSeniorCenter\"\r\n    :visible=\"state.dialogVisible\"\r\n    @closeCenterDialog=\"onCloseCenterDialog\"\r\n    :personnelList=\"state.personnelList\"\r\n    />\r\n\r\n</template>\r\n\r\n<script>\r\nimport { reactive, onMounted} from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport SeniorCenterModal from './components/seniorCenterModal'\r\nimport BackButton from '@/views/components/BackButton'\r\nimport axios from 'axios';\r\naxios.defaults.headers.post['Access-Control-Allow-Origin'] = 'http://i5b202.p.ssafy.io';\r\naxios.defaults.headers.post['Content-Type'] = 'application/json';\r\nconst OPENVIDU_SERVER_URL = \"https://i5b202.p.ssafy.io:4443\"\r\nconst OPENVIDU_SERVER_SECRET = \"ssafy\"\r\nexport default {\r\n    name: 'Map',\r\n    // data() {\r\n    //     return {  \r\n    //         dialogVisible: false,\r\n    //         SeniorCenterInfo : [],\r\n    //     };\r\n    // },\r\n    components: {\r\n        SeniorCenterModal,\r\n        BackButton\r\n    },\r\n    setup() {\r\n        const store = useStore()\r\n        const state = reactive({\r\n            \r\n            dialogVisible: false,\r\n            SeniorCenterInfo : [], \r\n            FrequenceSeniorCenterInfo : [],\r\n            mostPeopleCenterInfo : [],\r\n            ClickedSeniorCenter : {},\r\n            enterInfo :{\r\n                seniorId : 0,\r\n                userId : '',\r\n            },\r\n            personnelList: [],\r\n        })\r\n\r\n\r\n\r\n\r\n        const clickDialogVisible = () => {\r\n            state.dialogVisible = !state.dialogVisible\r\n        }\r\n\r\n        const initMap = () => {\r\n            console.log('123',state.dialogVisible)\r\n            console.log(1+\" \"+window.kakao);\r\n            var mapContainer = document.getElementById('map'), // 지도를 표시할 div \r\n            mapOption = {\r\n                center: new window.kakao.maps.LatLng(33.450701, 126.570667),\r\n                level: 3 // 지도의 확대 레벨\r\n            };  \r\n\r\n            // 지도를 생성합니다    \r\n            var map = new  window.kakao.maps.Map(mapContainer, mapOption); \r\n\r\n\r\n            // 다른 이미지로 마커 생성하기\r\n            var imageSrc = \"https://kr.seaicons.com/wp-content/uploads/2015/06/house-icon.png\", // 마커이미지의 주소입니다\r\n            imageSize = new window.kakao.maps.Size(64, 69), // 마커이미지의 크기입니다\r\n            imageOption = {offset: new window.kakao.maps.Point(27, 69)}; // 마커이미지의 옵션입니다. 마커의 좌표와 일치시킬 이미지 안에서의 좌표를 설정합니다.\r\n\r\n            // 마커의 이미지정보를 가지고 있는 마커이미지를 생성합니다\r\n            var markerImage = new window.kakao.maps.MarkerImage(imageSrc, imageSize, imageOption);\r\n                // markerPosition = new window.kakao.maps.LatLng(37.54699, 127.09598); // 마커가 표시될 위치입니다\r\n\r\n            // 주소-좌표 변환 객체를 생성합니다\r\n            var geocoder = new  window.kakao.maps.services.Geocoder();\r\n\r\n            // 반복문 시작\r\n            for (var i = 0; i < state.SeniorCenterInfo.length; i++) {\r\n            //  console.log(state.SeniorCenterInfo.length);\r\n            // console.log(state.SeniorCenterInfo[i].seniorAddress);\r\n            // console.log(state.SeniorCenterInfo[i].seniorName);\r\n            // 주소로 좌표를 검색합니다\r\n            let address = state.SeniorCenterInfo[i].seniorAddress; // i번방에 들어있는 경로당 주소\r\n            let name = state.SeniorCenterInfo[i].seniorName; // i번방에 들어있는 경로당 이름\r\n            let roomInfo = state.SeniorCenterInfo[i];\r\n            \r\n\r\n            \r\n            geocoder.addressSearch(address, function(result, status) {\r\n\r\n                // console.log(name);\r\n                // 정상적으로 검색이 완료됐으면 \r\n                if (status ===  window.kakao.maps.services.Status.OK) {\r\n\r\n                    var coords = new window.kakao.maps.LatLng(result[0].y,result[0].x);\r\n\r\n                    // 결과값으로 받은 위치를 마커로 표시합니다\r\n                    var marker = new window.kakao.maps.Marker({\r\n                        map: map,\r\n                        position: coords,\r\n                        // position: markerPosition, \r\n                        image: markerImage, // 마커이미지 설정\r\n                        clickable: true \r\n                    });\r\n                \r\n                    window.myMarker = marker\r\n                    // 마커가 지도 위에 표시되도록 설정합니다.\r\n                    marker.setMap(map);\r\n\r\n                    // 마커에 커서가 오버됐을 때 마커 위에 표시할 인포윈도우를 생성합니다\r\n                    // var iwContent = <div style=\"padding:5px;\">${name}</div>; // 인포윈도우에 표출될 내용으로 HTML 문자열이나 document element가 가능합니다\r\n                    \r\n                    \r\n\r\n                    // 인포윈도우를 생성 합니다\r\n                    var infowindow = new window.kakao.maps.InfoWindow({\r\n                        content : `<div style=\"width:150px;text-align:center;padding:6px 0;\">${name}</div>`, // 백틱(`)\r\n                        // content : iwContent\r\n                    });\r\n\r\n                    // 마커에 마우스오버 이벤트를 등록합니다\r\n                    window.kakao.maps.event.addListener(marker, 'mouseover', function() {\r\n                    // 마커에 마우스오버 이벤트가 발생하면 인포윈도우를 마커위에 표시합니다\r\n                        infowindow.open(map, marker);\r\n                    });\r\n\r\n                    // 마커에 마우스아웃 이벤트를 등록합니다\r\n                    window.kakao.maps.event.addListener(marker, 'mouseout', function() {\r\n                        // 마커에 마우스아웃 이벤트가 발생하면 인포윈도우를 제거합니다\r\n                        infowindow.close();\r\n                    });\r\n                    // 마커에 클릭이벤트를 등록합니다\r\n                    window.kakao.maps.event.addListener(marker, 'click', function() {\r\n                        console.log(marker)\r\n                        marker.fa.addEventListener(\"click\", function() {\r\n                            state.ClickedSeniorCenter = roomInfo;\r\n                            getNumOfPeople()\r\n                    })\r\n                    });\r\n                \r\n                // 지도의 중심을 결과값으로 받은 위치로 이동시킵니다\r\n                    map.setCenter(coords);\r\n                } \r\n            });\r\n        }\r\n        }\r\n\r\n        const getNumOfPeople = () => {\r\n            const personnelListTmp = [0, 0, 0, 0, 0]\r\n            store.commit('root/loadingOn')\r\n            axios\r\n                .get(`${OPENVIDU_SERVER_URL}/openvidu/api/sessions`,{\r\n                    auth: {\r\n                        username: 'OPENVIDUAPP',\r\n                        password: OPENVIDU_SERVER_SECRET\r\n                    }\r\n                })\r\n                .then(res => {\r\n                    store.commit('root/loadingOff')\r\n                    console.log(res.data)\r\n                    const sessions = res.data.content\r\n                    const sessionId = String(state.ClickedSeniorCenter.seniorId)\r\n                    sessions.forEach(session => {\r\n                        const split_str = session.id.split('-')\r\n                        if (sessionId == split_str[0]) {\r\n                            const index = parseInt(split_str[1])\r\n                            personnelListTmp[index] = session.connections.numberOfElements\r\n                        }\r\n                    }); \r\n                    state.personnelList = personnelListTmp\r\n                    console.log(state.personnelList)\r\n                    state.dialogVisible = true\r\n                })\r\n                .catch((err) => {\r\n                    store.commit('root/loadingOff')\r\n                    alert(err)\r\n                })\r\n        }\r\n\r\n        onMounted(() => {\r\n            const userId = store.getters['root/getMyId']\r\n            store.dispatch('root/requestSeniorCenterInfo', {userId : userId})\r\n            .then(result => {\r\n                // console.log(result);\r\n                state.SeniorCenterInfo = result.data.data;\r\n                console.log(state.SeniorCenterInfo)\r\n                    if (window.kakao && window.kakao.maps) {\r\n                console.log(window.kakao);\r\n                initMap();\r\n            } else {\r\n                const script = document.createElement('script');\r\n                \r\n                script.onload = () => window.kakao.maps.load(initMap);\r\n                script.src = 'http://dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=7c87159e377575ded609810fe7d11d0a&libraries=services';\r\n                document.head.appendChild(script);\r\n            }\r\n            })\r\n            .catch(() => {\r\n                alert('지도를 불러오지 못했습니다.')\r\n            })\r\n\r\n\r\n            store.dispatch('root/requestFrequenceSeniorCenterInfo', {userId : userId})\r\n            .then(result => {\r\n                // console.log(result);\r\n                state.FrequenceSeniorCenterInfo = result.data.data;\r\n                console.log(\"fsci\"+\" \"+state.FrequenceSeniorCenterInfo);\r\n            })\r\n        })\r\n        const onCloseCenterDialog = () => {\r\n            state.dialogVisible = false\r\n        }\r\n\r\n        const loadModal = (centerObject) => {\r\n            state.ClickedSeniorCenter = centerObject;\r\n            getNumOfPeople()\r\n        }\r\n        const clickMostPeople = () => {\r\n            const sessionPeopleObject = {}\r\n            store.commit('root/loadingOn')\r\n            axios\r\n            .get(`${OPENVIDU_SERVER_URL}/openvidu/api/sessions`,{\r\n                auth: {\r\n                    username: 'OPENVIDUAPP',\r\n                    password: OPENVIDU_SERVER_SECRET\r\n                }\r\n            })\r\n            .then(res => {\r\n                store.commit('root/loadingOff')\r\n                const sessions = res.data.content\r\n                sessions.forEach(session => {\r\n                    const sessionId = session.id.split('-')[0]\r\n                    if (!sessionPeopleObject[sessionId]) {\r\n                        sessionPeopleObject[sessionId] = 0\r\n                    }\r\n                    sessionPeopleObject[sessionId] += session.connections.numberOfElements\r\n                }); \r\n                const sortedList = []\r\n                for(let id in sessionPeopleObject) {\r\n                    sortedList.push([id, sessionPeopleObject[id]])\r\n                }\r\n                sortedList.sort((a, b) => {\r\n                    return a[1] - b[1]\r\n                })\r\n                const mostPeopleCenterTmp = []\r\n                sortedList.forEach(centerId => {\r\n                    let id = parseInt(centerId[0])\r\n\r\n                    for(let i = 0; i < state.SeniorCenterInfo.length; i++) {\r\n                        if (state.SeniorCenterInfo[i]['seniorId'] == id) {\r\n                            mostPeopleCenterTmp.push(state.SeniorCenterInfo[i])\r\n                            break\r\n                        }\r\n                    }\r\n                })\r\n                state.mostPeopleCenterInfo = mostPeopleCenterTmp\r\n            })\r\n            .catch((err) => {\r\n                store.commit('root/loadingOff')\r\n                alert(err)\r\n            })\r\n        }\r\n        const handleTabClick = (tab) => {\r\n            if (tab.props.label == '인원수 많은 순') {\r\n                clickMostPeople()\r\n            }\r\n        }\r\n\r\n        return{state, clickDialogVisible, initMap, onCloseCenterDialog, loadModal, clickMostPeople, handleTabClick}\r\n\r\n    },\r\n    }\r\n</script>\r\n\r\n<style>\r\n#map {\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n.map-container{\r\n    height:  100%;\r\n}\r\n</style>"],"sourceRoot":""}]}