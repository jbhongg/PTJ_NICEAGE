{"remainingRequest":"C:\\worksapce\\S05P13B202\\backend\\frontend\\node_modules\\thread-loader\\dist\\cjs.js!C:\\worksapce\\S05P13B202\\backend\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\worksapce\\S05P13B202\\backend\\frontend\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\worksapce\\S05P13B202\\backend\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\worksapce\\S05P13B202\\backend\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\worksapce\\S05P13B202\\backend\\frontend\\src\\views\\contents\\community\\components\\comment.vue?vue&type=template&id=d55113e0&scoped=true","dependencies":[{"path":"C:\\worksapce\\S05P13B202\\backend\\frontend\\src\\views\\contents\\community\\components\\comment.vue","mtime":1629269209814},{"path":"C:\\worksapce\\S05P13B202\\backend\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\worksapce\\S05P13B202\\backend\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\worksapce\\S05P13B202\\backend\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\worksapce\\S05P13B202\\backend\\frontend\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1628298225000},{"path":"C:\\worksapce\\S05P13B202\\backend\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\worksapce\\S05P13B202\\backend\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1628298225000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIGNyZWF0ZVRleHRWTm9kZSBhcyBfY3JlYXRlVGV4dFZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgd2l0aFNjb3BlSWQgYXMgX3dpdGhTY29wZUlkLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwoKX3B1c2hTY29wZUlkKCJkYXRhLXYtZDU1MTEzZTAiKTsKCnZhciBfaG9pc3RlZF8xID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIiDrjJPquIAg64us6riwIik7Cgp2YXIgX2hvaXN0ZWRfMiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJiciIsIG51bGwsIG51bGwsIC0xKTsKCnZhciBfaG9pc3RlZF8zID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIuyImOyglSIpOwoKdmFyIF9ob2lzdGVkXzQgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgi7IKt7KCcIik7CgpfcG9wU2NvcGVJZCgpOwoKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgX2NvbXBvbmVudF9lbF9pbnB1dCA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1pbnB1dCIpOwoKICB2YXIgX2NvbXBvbmVudF9lbF9mb3JtX2l0ZW0gPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtZm9ybS1pdGVtIik7CgogIHZhciBfY29tcG9uZW50X2VsX2J1dHRvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1idXR0b24iKTsKCiAgdmFyIF9jb21wb25lbnRfZWxfdGFibGVfY29sdW1uID0gX3Jlc29sdmVDb21wb25lbnQoImVsLXRhYmxlLWNvbHVtbiIpOwoKICB2YXIgX2NvbXBvbmVudF9lbF90YWJsZSA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC10YWJsZSIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Zvcm1faXRlbSwgbnVsbCwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2lucHV0LCB7CiAgICAgICAgcGxhY2Vob2xkZXI6ICLrjJPquIDsnYQg7J6R7ISx7ZW07KO87IS47JqULiIsCiAgICAgICAgbW9kZWxWYWx1ZTogJHNldHVwLnN0YXRlLmZvcm0uY29tbWVudENvbnRlbnRzLAogICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICByZXR1cm4gJHNldHVwLnN0YXRlLmZvcm0uY29tbWVudENvbnRlbnRzID0gJGV2ZW50OwogICAgICAgIH0pCiAgICAgIH0sIG51bGwsIDgsIFsibW9kZWxWYWx1ZSJdKV07CiAgICB9KSwKICAgIF86IDEKICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZm9ybV9pdGVtLCBudWxsLCB7CiAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgbnVsbCwgX3RvRGlzcGxheVN0cmluZygkcHJvcHMuYm9hcmRJZCksIDEpLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgICBvbkNsaWNrOiAkc2V0dXAuY2xpY2tXcml0ZUNvbW1lbnQKICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBbX2hvaXN0ZWRfMV07CiAgICAgICAgfSksCiAgICAgICAgXzogMQogICAgICB9LCA4LCBbIm9uQ2xpY2siXSldOwogICAgfSksCiAgICBfOiAxCiAgfSksIF9ob2lzdGVkXzIsIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3RhYmxlLCB7CiAgICAic2hvdy1oZWFkZXIiOiBmYWxzZSwKICAgIGRhdGE6IF9jdHgucGFnZWRUYWJsZURhdGEsCiAgICBzdHlsZTogewogICAgICAid2lkdGgiOiAiMTAwJSIKICAgIH0sCiAgICBvbkN1cnJlbnRDaGFuZ2U6ICRzZXR1cC5oYW5kbGVDdXJyZW50Q2hhbmdlCiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3RhYmxlX2NvbHVtbiwgewogICAgICAgIHByb3A6ICJ1c2VyTmFtZSIsCiAgICAgICAgd2lkdGg6ICIxODAiCiAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF90YWJsZV9jb2x1bW4sIHsKICAgICAgICBwcm9wOiAiY29tbWVudENvbnRlbnRzIiwKICAgICAgICB3aWR0aDogIjE4MCIKICAgICAgfSksICgkc2V0dXAuc3RhdGUuY29tbWVudExpc3QudXNlcklkID0gJHNldHVwLnN0YXRlLmZvcm0udXNlcklkKSA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X2VsX3RhYmxlX2NvbHVtbiwgewogICAgICAgIGtleTogMAogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgICAgICAgb25DbGljazogJHNldHVwLmNsaWNrTW9kaWZ5Q29tbWVudCwKICAgICAgICAgICAgdHlwZTogImRhbmdlciIKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiBbX2hvaXN0ZWRfM107CiAgICAgICAgICAgIH0pLAogICAgICAgICAgICBfOiAxCiAgICAgICAgICB9LCA4LCBbIm9uQ2xpY2siXSldOwogICAgICAgIH0pLAogICAgICAgIF86IDEKICAgICAgfSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSksICgkc2V0dXAuc3RhdGUuY29tbWVudExpc3QudXNlcklkID0gJHNldHVwLnN0YXRlLmZvcm0udXNlcklkKSA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X2VsX3RhYmxlX2NvbHVtbiwgewogICAgICAgIGtleTogMQogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgICAgICAgb25DbGljazogJHNldHVwLmNsaWNrRGVsZXRlQ29tbWVudCwKICAgICAgICAgICAgdHlwZTogImRhbmdlciIKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiBbX2hvaXN0ZWRfNF07CiAgICAgICAgICAgIH0pLAogICAgICAgICAgICBfOiAxCiAgICAgICAgICB9LCA4LCBbIm9uQ2xpY2siXSldOwogICAgICAgIH0pLAogICAgICAgIF86IDEKICAgICAgfSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSldOwogICAgfSksCiAgICBfOiAxCiAgfSwgOCwgWyJkYXRhIiwgIm9uQ3VycmVudENoYW5nZSJdKV0sIDY0KTsKfQ=="},{"version":3,"sources":["C:\\worksapce\\S05P13B202\\backend\\frontend\\src\\views\\contents\\community\\components\\comment.vue"],"names":[],"mappings":";;;;+CAM0C,Q;;8BAEtC,mBAAA,CAAI,IAAJ,EAAI,IAAJ,EAAI,IAAJ,EAAI,CAAA,CAAJ,C;;+CAmB+D,I;;+CAGA,I;;;;;;;;;;;;;;;6DA7B/D,YAAA,CAEe,uBAFf,EAEe,IAFf,EAEe;sBADD;AAAA,aAAoF,CAApF,YAAA,CAAoF,mBAApF,EAAoF;AAA1E,QAAA,WAAW,EAAC,aAA8D;oBAAvC,MAAA,CAAA,KAAA,CAAM,IAAN,CAAW,eAA4B;;iBAAvC,MAAA,CAAA,KAAA,CAAM,IAAN,CAAW,eAAX,GAA0B,M;;AAAa,OAApF,E,IAAA,E,CAAA,E,cAAA,CAAoF,CAApF;AAAA,K,CACC;;AAAA,GAFf,C,EAGA,YAAA,CAGe,uBAHf,EAGe,IAHf,EAGe;sBAFb;AAAA,aAAsB,CAAtB,mBAAA,CAAsB,KAAtB,EAAsB,IAAtB,EAAsB,gBAAA,CAAf,MAAA,CAAA,OAAe,CAAtB,EAAc,CAAd,CAAsB,EACxB,YAAA,CAAwD,oBAAxD,EAAwD;AAA5C,QAAA,OAAK,EAAE,MAAA,CAAA;AAAqC,OAAxD,EAAoC;0BAAE;AAAA,iBAAM,C,UAAA,CAAN;AAAA,S,CAAF;;AAAA,OAApC,E,CAAA,E,WAAA,CADwB,CAAtB;AAAA,K,CAEa;;AAAA,GAHf,C,EAIA,U,EAGA,YAAA,CAsBS,mBAtBT,EAsBS;AArBR,mBAAa,KAqBL;AApBR,IAAA,IAAI,EAAE,IAAA,CAAA,cAoBE;AAnBT,IAAA,KAAmB,EAAnB;AAAA,eAAA;AAAA,KAmBS;AAlBR,IAAA,eAAc,EAAE,MAAA,CAAA;AAkBR,GAtBT,E;sBAKA;AAAA,aAGkB,CAHlB,YAAA,CAGkB,0BAHlB,EAGkB;AAFhB,QAAA,IAAI,EAAC,UAEW;AADhB,QAAA,KAAK,EAAC;AACU,OAHlB,CAGkB,EAClB,YAAA,CAGkB,0BAHlB,EAGkB;AAFhB,QAAA,IAAI,EAAC,iBAEW;AADhB,QAAA,KAAK,EAAC;AACU,OAHlB,CADkB,E,CAMK,MAAA,CAAA,KAAA,CAAM,WAAN,CAAkB,MAAlB,GAAyB,MAAA,CAAA,KAAA,CAAM,IAAN,CAAW,M,mBAA3D,YAAA,CAG0B,0BAH1B,EAG0B;AAAA,QAAA,GAAA,EAAA;AAAA,OAH1B,EAG0B;0BADhB;AAAA,iBAAmE,CAAnE,YAAA,CAAmE,oBAAnE,EAAmE;AAAvD,YAAA,OAAK,EAAE,MAAA,CAAA,kBAAgD;AAA5B,YAAA,IAAI,EAAC;AAAuB,WAAnE,E;8BAAqD;AAAA,qBAAE,C,UAAA,CAAF;AAAA,a;;WAArD,E,CAAA,E,WAAA,CAAmE,CAAnE;AAAA,S,CACgB;;AAAA,OAH1B,C,iCANkB,E,CAUK,MAAA,CAAA,KAAA,CAAM,WAAN,CAAkB,MAAlB,GAAyB,MAAA,CAAA,KAAA,CAAM,IAAN,CAAW,M,mBAA3D,YAAA,CAEkB,0BAFlB,EAEkB;AAAA,QAAA,GAAA,EAAA;AAAA,OAFlB,EAEkB;0BADR;AAAA,iBAAmE,CAAnE,YAAA,CAAmE,oBAAnE,EAAmE;AAAvD,YAAA,OAAK,EAAE,MAAA,CAAA,kBAAgD;AAA5B,YAAA,IAAI,EAAC;AAAuB,WAAnE,E;8BAAqD;AAAA,qBAAE,C,UAAA,CAAF;AAAA,a;;WAArD,E,CAAA,E,WAAA,CAAmE,CAAnE;AAAA,S,CACQ;;AAAA,OAFlB,C,iCAVkB,CAHlB;AAAA,K;;GALA,E,CAAA,E,2BAAA,C","sourcesContent":["<template>\r\n    <el-form-item>\r\n                  <el-input placeholder=\"댓글을 작성해주세요.\" v-model=\"state.form.commentContents\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item >\r\n      <div>{{boardId}}</div>\r\n    <el-button @click=\"clickWriteComment\"> 댓글 달기</el-button>\r\n    </el-form-item>\r\n    <br>\r\n    \r\n    <!--   state.commentform.commentsDto   -->\r\n    <el-table\r\n    :show-header =false\r\n    :data=\"pagedTableData\" \r\n    style=\"width: 100%\"\r\n    @current-change=\"handleCurrentChange\">\r\n    <el-table-column\r\n      prop=\"userName\"\r\n      width=\"180\">\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"commentContents\"\r\n      width=\"180\">\r\n    </el-table-column>\r\n     <!-- <div v-if=\"state.commentList.userId=state.form.userId\"> -->\r\n    <el-table-column v-if=\"state.commentList.userId=state.form.userId\"> <!--v-if 사용해서 댓글쓴사람 == 현재 로그인된 사람 일때만 보여주기-->\r\n           \r\n              <el-button @click=\"clickModifyComment\" type=\"danger\">수정</el-button>\r\n            </el-table-column>\r\n    <el-table-column v-if=\"state.commentList.userId=state.form.userId\">\r\n              <el-button @click=\"clickDeleteComment\" type=\"danger\">삭제</el-button>\r\n    </el-table-column>\r\n    <!-- </div> -->\r\n  </el-table>\r\n \r\n   <!-- 페이지네이션\r\n      <el-pagination\r\n      background\r\n      :page-size=\"pageSize\"\r\n      layout=\" prev, pager, next\"\r\n      :total=\"state.commentform.commentsDto.length\"\r\n      @current-change=\"setPage\"> \r\n    </el-pagination>\r\n     페이지네이션 끝 -->\r\n\r\n</template>\r\n\r\n<script>\r\nimport { reactive, computed } from 'vue'\r\nimport { useStore } from 'vuex'\r\n// import { useRouter } from 'vue-router'\r\n\r\n\r\nexport default {\r\nprops: {\r\n      boardId : {\r\n        type : Number,\r\n        default : 0,\r\n      },\r\n      commentsDto : { // 객체 배열\r\n        type : Array,\r\n      },\r\n      titles : { // 객체 배열\r\n        type : Array,\r\n      }\r\n\r\n},\r\n\r\nsetup(props) {\r\n    // const router = useRouter()\r\n    const store = useStore()\r\n    const state = reactive({\r\n\r\n      page: 1,\r\n      pageSize: 4,\r\n      currentRow: null,\r\n      \r\n      \r\n\r\n      commentList :props.commentsDto, // 댓글 받아온거 (배열임)\r\n      commentWriter : props.commentsDto.userId, // 댓글 작성자 (배열임)\r\n      commentId :'',\r\n      form : {\r\n       userId : store.getters['root/getMyId'],\r\n       boardId : props.boardId,\r\n       commentContents : '', // v-model로 입력받음\r\n       // commentId :'', 자동 증가?\r\n\r\n      }, // 댓글 입력시 보낼 입력폼\r\n      commentform : {\r\n        commentsDto:[],\r\n        user:{},\r\n      }, // 댓글 받아오는 폼\r\n\r\n\r\n      pagedTableData :computed(() => state.commentform.commentsDto.slice(state.pageSize * state.page - state.pageSize, state.pageSize * state.page),\r\n      ),\r\n    })\r\n\r\n      \r\n\r\n      console.log(\"보드 아이디\");\r\n      console.log(state.form.boardId);\r\n      \r\n\r\n\r\n       const setPage= function (val) {\r\n        state.page = val\r\n    }\r\n\r\n     const handleCurrentChange = function (val) {\r\n        state.currentRow = val;\r\n   \r\n          state.commentId = val.commentId \r\n    }\r\n\r\n\r\n    console.log(\"PTD\");\r\n      console.log(state.pagedTableData);\r\n\r\n\r\n\r\n      store.dispatch('root/requestReadBoard',{boardId : state.form.boardId }) // #{state.boardId} // userId : userId, //  `{boardId}?boardId=${state.boardId}`\r\n     .then(res => {\r\n      // console.log(res.data);\r\n      // console.log(res.data.data);\r\n      state.commentform = res.data.data; // form에다가 백에서 받아온 값들 넣어주자.\r\n      // console.log(state.form.user.userName);\r\n      // console.log(state.form.boardTitle);\r\n      // console.log(state.form.boardContents);\r\n      // console.log(state.form.boardDate);\r\n      console.log(state.commentform.commentsDto); \r\n      // console.log(state.nowuserId);\r\n      // console.log(state.form.user.userId);\r\n     \r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  \r\n  // console.log(props.title);\r\n\r\n  // console.log(props.boardId);\r\n  // console.log(state.form.boardId);\r\n  console.log(\"커멘트디티오\");\r\n  console.log(props.commentsDto); \r\n  console.log(state.commentList); \r\n  console.log(props.commentsDto.userName);\r\n  console.log(\"타이틀\");\r\n  console.log(props.titles);\r\n   console.log(\"댓글 작성자\");\r\n  console.log(props.commentsDto.userId); \r\n\r\n\r\n  \r\n    const clickWriteComment= () => {\r\n      store.dispatch('root/requestSubmitComment', state.form)\r\n      .then(result =>{\r\n        console.log(result)\r\n          state.form.commentContents='';\r\n          state.commentList = props.commentsDto;\r\n           console.log(\"댓글 입력후\"); \r\n          console.log(state.commentList); \r\n\r\n        //   router.push({       \r\n        //   name: 'BoardDetail',\r\n        // })\r\n        console.log()\r\n      })\r\n       .catch((err) => {\r\n            store.commit('root/loadingOff')\r\n            alert(err)\r\n          })\r\n    }\r\n const clickModifyComment= () =>{\r\n    store.dispatch('root/requestUpdateComment',state.form) // state.form에 넣을 것 : ~~~\r\n       .then(result =>{\r\n        console.log(result)\r\n\r\n      })\r\n }\r\n\r\n\r\n const clickDeleteComment= () =>{\r\n      const userId = store.getters['root/getMyId']\r\n         store.dispatch('root/requestDeleteComment',{userId : userId, boardId : state.form.boardId, commentId : state.commentId}) // `{boardId}?boardId=${state.form.boardId}` // \r\n       .then(result =>{\r\n        console.log(result)\r\n        \r\n      })\r\n }\r\n\r\n  return {state,clickWriteComment, clickModifyComment, clickDeleteComment,setPage,handleCurrentChange}\r\n}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .el-button {\r\n    margin: 15px;\r\n    width: 150px;\r\n    height: 50px;\r\n    background: #EBC86F !important;\r\n    border-radius: 25px !important;\r\n  }\r\n</style>"],"sourceRoot":""}]}